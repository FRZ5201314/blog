<!-- build time:Thu May 04 2023 15:06:03 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/blog/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="物競天擇" href="https://furanzhang.gitee.io/blog/rss.xml"><link rel="alternate" type="application/atom+xml" title="物競天擇" href="https://furanzhang.gitee.io/blog/atom.xml"><link rel="alternate" type="application/json" title="物競天擇" href="https://furanzhang.gitee.io/blog/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/blog/css/app.css?v=0.2.5"><meta name="keywords" content="Unity,Python,云服务器"><link rel="canonical" href="https://furanzhang.gitee.io/blog/2021/08/24/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BAKBEngine%E6%9C%8D%E5%8A%A1%E7%AB%AF/"><title>云服务器搭建KBEngine服务端 | Frz = 物競天擇 = 最怕你一生碌碌无为，还安慰自己平凡可贵</title><meta name="generator" content="Hexo 5.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">云服务器搭建KBEngine服务端</h1><div class="meta"><span class="item" title="创建时间：2021-08-24 15:10:55"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-08-24T15:10:55+08:00">2021-08-24</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>7.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>7 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/blog/" rel="start">Frz</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="/blog/Shoka_images/6833939bly1gicljitigmj20zk0m87fp.jpg"></li><li class="item" data-background-image="/blog/Shoka_images/6833939bly1giciundwu5j20zk0m8n9e.jpg"></li><li class="item" data-background-image="/blog/Shoka_images/6833939bly1giclga70tsj20zk0m84mr.jpg"></li><li class="item" data-background-image="/blog/Shoka_images/6833939bly1giclize41wj20zk0m87gk.jpg"></li><li class="item" data-background-image="/blog/Shoka_images/6833939bly1gipevuctzzj20zk0m84qp.jpg"></li><li class="item" data-background-image="/blog/Shoka_images/6833939bly1giclwrdwyaj20zk0m8are.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/blog/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://furanzhang.gitee.io/blog/2021/08/24/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BAKBEngine%E6%9C%8D%E5%8A%A1%E7%AB%AF/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/blog/images/tongZhi.webp"><meta itemprop="name" content="Frz"><meta itemprop="description" content="最怕你一生碌碌无为，还安慰自己平凡可贵, 自卑不是谦逊 | 傲慢不是自信"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="物競天擇"></span><div class="body md" itemprop="articleBody"><h2 id="开始"><a class="markdownIt-Anchor" href="#开始">#</a> 开始</h2><p>开始是用腾讯云装的 centos8 系统，构建 kbengne；</p><p>慢慢一步步解决报错和问题，重复编译，解决报错，重复编译…</p><p>最后内存不足导致报错之后，腾讯云只有 1 核 2G 内存，只能想别的办法；</p><p>在本机 win 系统下安装了一个同样的 centos8 系统，安装环境，构建。</p><p>最后把构建后的完整文件在拷贝到腾讯云运行，才算完；</p><p>所以中间一些问题的处理还是记录一下；</p><h4 id="部分环境安装"><a class="markdownIt-Anchor" href="#部分环境安装">#</a> 部分环境安装：</h4><p>**1. ** <strong>&quot;make 未找到命令&quot;</strong></p><pre><code>linux环境下安装：
yum -y install gcc automake autoconf libtool make
安装g++:
yum install gcc gcc-c++
</code></pre><p>**2. ** <strong>如何在 CentOS 8 上安装 Python</strong></p><p>​	教程链接：<span class="exturl" data-url="aHR0cHM6Ly93d3cubGludXhpZGMuY29tL0xpbnV4LzIwMTktMTEvMTYxNDQ0Lmh0bQ==">https://www.linuxidc.com/Linux/2019-11/161444.htm</span></p><p>​	<strong>python3 安装步骤：</strong></p><blockquote><p>sudo dnf install python3</p><p>要验证安装，请输入以下命令检查 Python 版本：</p><p>[linuxidc@localhost ~]$ python3 --version</p><p>用 python 安装东西需要用 pip3 install xxx， 重点是 pip3，而不是 pip</p><p>要将 Python 3 设置为系统范围内的非版本化 python 命令，请使用 Alternatives 实用程序：</p><p>sudo alternatives --set python /usr/bin/python3</p><p>验证 python 已设置为系统范围命令：python --version，而非原先的 python3 --verstion</p></blockquote><p>**3. ** <strong>&quot;mysql 安装&quot;</strong></p><p>​	教程：<span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20va2FzbnRpL3AvMTE5MjkwMzAuaHRtbA==">https://www.cnblogs.com/kasnti/p/11929030.html</span></p><p>​	按教程全部走完！</p><h4 id="错误解决"><a class="markdownIt-Anchor" href="#错误解决">#</a> 错误解决:</h4><p>**1. ** <strong>&quot;sigar_util.c:742:10: 致命错误：rpc/rpc.h：没有那个文件或目录&quot;</strong></p><p>这是因为，在 Centos8 中使用了新库 libtirpc。</p><p>所以，解决方案如下：</p><p>安装 libtirpc-devel<br>命令：sudo yum -y install libtirpc-devel</p><p>2. 修改 /kbengine/kbe/src/build/common.mak</p><p><img data-src="88475178-3f0f5180-cf60-11ea-87e5-c1c97348f246.png" alt="20200708105812733"></p><p>**2. ** <strong>&quot;entity_table_mysql.cpp:387:32: error: ‘%s’ directive output may be truncated writing up to 65534 bytes into a region of size 65427 [-Werror=format-truncation=] &quot;</strong></p><p>修改 /kbengine/kbe/src/build/common.mak</p><p>​	131 行添加：CPPFLAGS += -Wno-format-truncation</p><p>**3. ** <strong>&quot;g++: fatal error: Killed signal terminated program cc1plus&quot;</strong></p><p>内存不足导致的。运行内存。</p><h4 id="有用的网址"><a class="markdownIt-Anchor" href="#有用的网址">#</a> 有用的网址：</h4><p>​	<span class="exturl" data-url="aHR0cHM6Ly9naXRodWJtZW1vcnkuY29tL3JlcG8va2JlbmdpbmUva2JlbmdpbmUvaXNzdWVzP2N1cnNvcj1ZM1Z5YzI5eU9uWXlPcEs1TWpBeU1DMHdOeTB4T1ZReU1UbzFNem94TlNzd09Eb3dNTTRuWThVayZhbXA7cGFnaW5hdGlvbj1uZXh0JmFtcDtwYWdlPTk=">https://githubmemory.com/repo/kbengine/kbengine/issues?cursor=Y3Vyc29yOnYyOpK5MjAyMC0wNy0xOVQyMTo1MzoxNSswODowMM4nY8Uk&amp;pagination=next&amp;page=9</span></p><h4 id="centos8中mysql替换为mariadb"><a class="markdownIt-Anchor" href="#centos8中mysql替换为mariadb">#</a> centos8 中 mysql 替换为 MariaDB</h4><p>MariaDB 数据库管理系统是 MySQL 的一个分支，主要由开源社区在维护，采用 GPL 授权许可 MariaDB 的目的是完全兼容 MySQL，包括 API 和命令行，使之能轻松成为 MySQL 的代替品</p><blockquote><p>yum -y install mariadb mariadb-server</p></blockquote><p>安装教程：<span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9jMGM1MTkzNzRjMzY=">https://www.jianshu.com/p/c0c519374c36</span></p><p>1. 重置密码的第一步就是跳过 MySQL 的密码认证过程，方法如下</p><p>编辑配置文件：</p><blockquote><p>vi /etc/my.cnf</p><p>在 [mysqld] 后面任意一行添加 “skip-grant-tables”</p></blockquote><p>2. 接下来我们需要重启 MySQL</p><blockquote><p>systemctl restart mariadb</p></blockquote><p>3. 重启之后输入 mysql 即可进入 mysql, 然后修改 mysql 密码</p><blockquote><p>mysql&gt; USE mysql ;</p><p>mysql&gt; UPDATE user SET Password = password ( ‘anylinux’ ) WHERE User = ‘root’ ;</p><p>mysql&gt; flush privileges ;</p><p>mysql&gt; quit</p></blockquote><p>anylinux 就是你要修改的密码</p><p>4. 退出 mysql 之后把刚修改的配置文件改回来 (vi /etc/my.cnf)</p><blockquote><p>输入命令 vi /etc/my.cnf 打开文件后</p><p>按 A 进入编辑模式</p><p>编辑完成 esc 退出编辑模式</p><p>输入冒号 “：”</p><p>然后冒号后面输入小写的 “x” 保存修改</p></blockquote><p>5. 重启 mysql 服务</p><p>6. 登录 mysql：</p><blockquote><p>mysql -uroot -p 你的密码</p><p>root 为用户名</p></blockquote><h4 id="卸载mysql-或-mariadb"><a class="markdownIt-Anchor" href="#卸载mysql-或-mariadb">#</a> 卸载 mysql 或 mariadb</h4><p>​	卸载<br>​	移除 mariadb 程序文件</p><blockquote><p>yum remove -y mariadb*</p></blockquote><p>​	查询 mysql 相关文件并删除</p><blockquote><p>find / -name “mysql*” |xargs rm -rf</p><p>find / -name “mariadb*” |xargs rm -rf</p></blockquote><p>​	卸载完成</p><h4 id="启动与关闭kbe"><a class="markdownIt-Anchor" href="#启动与关闭kbe">#</a> 启动与关闭 Kbe</h4><p>启动的路径：</p><blockquote><p>/root/kbengine/kbe/res/sdk_templates/server/python_assets</p></blockquote><p><strong>启动：</strong></p><blockquote><p>cd /root/kbengine/kbe/res/sdk_templates/server/python_assets</p><p>sh start_server.sh</p></blockquote><p><strong>关闭：</strong></p><blockquote><p>cd /root/kbengine/kbe/res/sdk_templates/server/python_assets</p><p>sh kill_server.sh</p></blockquote><h4 id="防火墙设置方法"><a class="markdownIt-Anchor" href="#防火墙设置方法">#</a> 防火墙设置方法</h4><p>查看防火墙某个端口是否开放</p><blockquote><p>firewall-cmd --query-port=80/tcp</p></blockquote><p>开放防火墙端口 80</p><blockquote><p>firewall-cmd --zone= public --add-port=80/tcp --permanent</p></blockquote><p>关闭 80 端口</p><blockquote><p>firewall-cmd --zone=public --remove-port=80/tcp --permanent</p></blockquote><p>配置立即生效</p><blockquote><p>firewall-cmd --reload</p></blockquote><p>查看防火墙状态</p><blockquote><p>systemctl status firewalld</p></blockquote><p>关闭防火墙</p><blockquote><p>systemctl stop firewalld</p></blockquote><p>打开防火墙</p><blockquote><p>systemctl start firewalld</p></blockquote><p>开放一段端口</p><blockquote><p>firewall-cmd --zone=public --add-port=8121-8124/tcp --permanent</p></blockquote><p>查看开放的端口列表</p><blockquote><p>firewall-cmd --zone=public --list-ports</p></blockquote><h4 id="kbe服务器配置"><a class="markdownIt-Anchor" href="#kbe服务器配置">#</a> kbe 服务器配置</h4><p>​	标准配置：/root/kbengine/kbe/res/server</p><p>​	项目配置：项目文件夹 /res/server</p><h4 id="其他"><a class="markdownIt-Anchor" href="#其他">#</a> 其他</h4><p>安装依赖库</p><blockquote><p>yum install -y automake libtool</p></blockquote><p>“libmysqlclient.so.21” 报错</p><blockquote><p>yum reinstall mysql-libs -y</p></blockquote><p>kbe 官方文档：<span class="exturl" data-url="aHR0cHM6Ly9rYmVuZ2luZS5naXRodWIuaW8vL2NuL2RvY3Mv">https://kbengine.github.io//cn/docs/</span></p><h2 id="最后-安装步骤"><a class="markdownIt-Anchor" href="#最后-安装步骤">#</a> 最后 （安装步骤）</h2><p>在 centos8 上的问题实在无法解决，最后服务端能正常运行且没有报错，但客户端连接就提示服务器没有准备好。 不过<strong>上面踩的坑可以作为参考</strong>。</p><p><strong>最后忍不了，还是换成了 centos7.6 重新安装一遍服务端，最终安装成功，并且客户端可以正常连接</strong></p><p>参考：</p><blockquote><p>centos7 安装 kbe 教程：<span class="exturl" data-url="aHR0cHM6Ly9jb2Rlanp5LmNvbS9wb3N0cy0yMzk1NDYuaHRtbA==">https://codejzy.com/posts-239546.html</span></p></blockquote><h4 id="最终安装流程"><a class="markdownIt-Anchor" href="#最终安装流程">#</a> 最终安装流程：</h4><ol><li>数据库<strong> mariadb</strong> 与<strong> openssl</strong> 安装：</li></ol><blockquote><p>安装 openssl yum install openssl-devel</p><p>安装 mariadb yum install mariadb mariadb-server</p><p>yum install mariadb mariadb-devel</p><p>开机启动 systemctl enable mariadb</p><p>启动 systemctl start mariadb</p></blockquote><ol start="2"><li>安装<strong> python3.4</strong></li></ol><p>下载 wget <span class="exturl" data-url="aHR0cHM6Ly93d3cucHl0aG9uLm9yZy9mdHAvcHl0aG9uLzMuNC40L1B5dGhvbi0zLjQuNC50Z3o=">https://www.python.org/ftp/python/3.4.4/Python-3.4.4.tgz</span></p><blockquote><p>解压 tar -zxf Python-3.4.4.tgz</p><p>安装 cd Python-3.4.4</p></blockquote><p>为了不覆盖原有版本，新建文件夹</p><blockquote><p>mkdir /usr/local/python3.4</p><p>./configure --prefix=/usr/local/python3.4</p><p>make</p><p>make install</p></blockquote><p>设置环境变量</p><blockquote><p>~/.bash_profile</p><p>PATH=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>A</mi><mi>T</mi><mi>H</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">PATH:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="mord mathnormal" style="margin-right:.08125em">H</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span></span></span></span>HOME/bin</p><p>改为：</p><p>PATH=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>A</mi><mi>T</mi><mi>H</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">PATH:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="mord mathnormal" style="margin-right:.08125em">H</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span></span></span></span>HOME/bin:/usr/local/python3.4/bin</p></blockquote><p>测试</p><blockquote><p># python3 --version</p><p>Python 3.4.4</p></blockquote><ol start="3"><li>下载<strong> KBEngine</strong> 源码并编译</li></ol><blockquote><p>wget <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2tiZW5naW5lL2tiZW5naW5lL2FyY2hpdmUvcmVmcy90YWdzLzIuNS4xMi56aXA=">https://github.com/kbengine/kbengine/archive/refs/tags/2.5.12.zip</span></p><p>unzip 2.5.12.zip</p><p>cd kbengine-2.5.12/kbe/src/</p><p>chmod -R 755 .</p><p>make</p></blockquote><ol start="4"><li>设置防火墙</li></ol><p>关闭防火墙</p><blockquote><p>systemctl stop firewalld.service<br>systemctl disable firewalld.service</p></blockquote><p>因为是云服务器，所以直接关闭服务器防火墙，配置云服务器管理界面的防火墙即可：</p><p>需要开放的端口参考 Kbe 官方文档<strong> Linux 防火墙设置</strong>：</p><blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9rYmVuZ2luZS5naXRodWIuaW8vL2NuL2RvY3MvZG9jdW1lbnRhdGlvbnMvbGludXhmaXJld2FsbC5odG1s">https://kbengine.github.io//cn/docs/documentations/linuxfirewall.html</span></p></blockquote><p><strong>“开放外部端口即可”</strong></p><p>以下是官方文档的粘贴：</p><pre><code>server1: 
		machine:
			内部TCP端口 : 20099		// 工具直接访问端口

		loginapp:
			外部TCP端口 : 20013		// 登录端口
			外部TCP端口 : 21103		// Email账号激活、密码重置等等处理的回调接口

		baseapp x N:
			外部TCP端口 : 20015, ...		// 网关端口(externalPorts_min-&gt;externalPorts_max)
			内部TCP端口 : 40000		// Telnet服务端口(用于调试等)

server2: 
		machine:
			内部TCP端口 : 20099		// 工具直接访问端口

		cellapp x N
			内部TCP端口 : 50000		// Telnet服务端口(用于调试等)


server3: 
		machine:
			内部TCP端口 : 20099		// 工具直接访问端口

		cellappmgr

		baseappmgr

		dbmgr

		interfaces
			内部TCP端口 : 30040		// 第三方回调接口，用于计费、第三方账号等等

UDP 广播端口: 
	internal : 20086-20088				// 探测和感知其他组件的存在, 组成为一个网络服务组
</code></pre><p><strong>另外</strong>：</p><p><strong>1. 如果 mysql（也就是 mariadb）需要外部访问的话，需要开放 &quot;3306&quot; 端口；</strong></p><p><strong>2. 因为配置服务端在云服务器中，所以需要配置 “kbengine_defaults.xml” 中 baseapp 的 “externalAddress” 为你的公网 ip，否者会导致客户端无法登录；</strong></p><p><strong>3. 如果客户端登录提示 20005 端口超时，则需要在云服务器防火墙配置 “20005 的 UDP 端口”，主要是 UDP 不是 TCP 端口；</strong></p><ol start="5"><li><p>按照官方步骤配置数据库</p><p>这里对数据库配置的修改，需要与 kbengine.xml 内更新，粘贴一下官方的配置命令，注意”;“的使用</p><blockquote><p>登入数据库</p><p>mysql -uroot</p><p>创建数据库</p><p>mysql&gt; create database kbe;</p><p>删除匿名用户（一些系统中不删除匿名用户会出现使用 kbe 账号用本地 IP 登录 mysql 被拒绝访问）</p><p>mysql&gt; use mysql</p><p>mysql&gt; delete from user where user=’’;</p><p>mysql&gt; FLUSH PRIVILEGES;</p><p>创建数据库用户，用户名是”kbe”，密码假设是”pwd123456”</p><p>mysql&gt; grant all privileges on <em>.</em> to kbe@’%’ identified by ‘pwd123456’;<br>mysql&gt; grant select,insert,update,delete,create,drop on <em>.</em> to kbe@’%’ identified by ‘pwd123456’;<br>mysql&gt; FLUSH PRIVILEGES;</p><p>退出数据库</p><p>mysql&gt; exit</p><p>验证数据库配置</p><p>mysql -ukbe -ppwd123456 -hlocalhost -P3306</p><p>如果能正常进入数据库，表示配置成功</p></blockquote></li><li><p>下载服务端和客户端 Demo</p><p>参考 Demo 教程：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2tiZW5naW5lL2tiZW5naW5lX3VuaXR5M2RfZGVtby9ibG9iL21hc3Rlci9SRUFETUVfQ04ubWQ=">https://github.com/kbengine/kbengine_unity3d_demo/blob/master/README_CN.md</span></p><blockquote><p>服务端资产库下载：<br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2tiZW5naW5lL2tiZW5naW5lX2RlbW9zX2Fzc2V0cy9yZWxlYXNlcy9sYXRlc3Q=">https://github.com/kbengine/kbengine_demos_assets/releases/latest</span><br>下载后请将其解压缩，并将目录文件放置于服务端引擎根目录 &quot;kbengine/&quot; 之下</p><p>启动服务端 demo：</p><p>cd kbengine-2.5.12/kbengine_unity3d_demo-2.5.8/</p><p>sh start_server.sh</p><p>下载客户端 demo：</p><p>git 链接：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2tiZW5naW5lL2tiZW5naW5lX3VuaXR5M2RfZGVtbw==">https://github.com/kbengine/kbengine_unity3d_demo</span></p><p>用 unity2018 打开 demo 工程</p><p>设置 start 场景里的 Clientapp 的 IP 为你的服务器 IP</p><p>启动 start 场景就可以测试服务器注册登录等功能了</p><p>如果出现客户端与服务端版本不匹配的问题，可以在服务端重新生成一下 Plugins，然后拷贝替换掉客户端 Plugins 下面的内容。</p><p>生成方法：</p><p>cd kbengine-2.5.12/kbengine_unity3d_demo-2.5.8/</p><p>sh <span class="exturl" data-url="aHR0cDovL2dlbnNkay5zaA==">gensdk.sh</span></p></blockquote></li></ol><h2 id="其他有用的文档"><a class="markdownIt-Anchor" href="#其他有用的文档">#</a> 其他有用的文档</h2><blockquote><p>Kbengine 服务器部署与配置（单台服务器部署多款游戏解决方案 ）</p><p>1、下载最新版引擎代码</p><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2tiZW5naW5lL2tiZW5naW5lL2FyY2hpdmUvdjAuOS4xOS56aXA=">https://github.com/kbengine/kbengine/archive/v0.9.19.zip</span></p><p>2、基础软件安装</p><p>（1）切换到 root 账户</p><p>安装 openssl yum install openssl-devel</p><p>安装 mariadb yum install mariadbmariadb-server</p><p>yum install mariadbmariadb-devel</p><p>开机启动 systemctl enable mariadb</p><p>启动 systemctl start mariadb</p><p>（2）安装 python3.4</p><p>下载 wget <span class="exturl" data-url="aHR0cHM6Ly93d3cucHl0aG9uLm9yZy9mdHAvcHl0aG9uLzMuNC40L1B5dGhvbi0zLjQuNC50Z3o=">https://www.python.org/ftp/python/3.4.4/Python-3.4.4.tgz</span></p><p>解压 tar -zxf Python-3.4.4.tgz</p><p>安装 cd Python-3.4.4</p><p>为了不覆盖原有版本，新建文件夹</p><p>mkdir /usr/local/python3.4</p><p>./configure --prefix=/usr/local/python3.4</p><p>make</p><p>make install</p><p>设置环境变量</p><p>~/.bash_profile</p><p>PATH=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>A</mi><mi>T</mi><mi>H</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">PATH:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="mord mathnormal" style="margin-right:.08125em">H</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span></span></span></span>HOME/bin</p><p>改为：</p><p>PATH=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>A</mi><mi>T</mi><mi>H</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">PATH:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="mord mathnormal" style="margin-right:.08125em">H</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span></span></span></span>HOME/bin:/usr/local/python3.4/bin</p><p>测试</p><p># python3 --version</p><p>Python 3.4.4</p><p>2、machine 模块环境部署</p><p>（1）切换到 root 账户</p><p>（2）copy 引擎资源至需要安装的文件夹</p><p>（3）解压文件，并命名为 kbengine</p><p>（4）编译 kbe</p><p>cd kbengine/kbe/src</p><p>chmod -R 755 .</p><p>make</p><p>（5）修改启动脚本</p><p>Vi start_server.sh</p><p>删除脚本代码中其他模块，只保留 machine 如下</p><p><img data-src="%E5%9B%BE%E7%89%871.png" alt="img"></p><p>（6）启动 machine 模块</p><p>cd kbengine/assets</p><p>sh start_server.sh</p><p>3、某款游戏安装</p><p>（1）创建单独用户帐号</p><p>切换到 root 权限</p><p>useraddkbe_xx</p><p>passwdkbe_xx</p><p>输入密码即可</p><p>（2）创建数据库</p><p>创建数据库 kbe_xx</p><p>mysql&gt; create database kbe_xx;</p><p>删除匿名帐号</p><p>mysql&gt; use mysql</p><p>mysql&gt; delete from user where user=’’;</p><p>mysql&gt; FLUSH PRIVILEGES;</p><p>创建数据库用户 kbe_xx</p><p>mysql&gt; grant all privileges on <em>.</em> to kbe_xx@’%’ identified by ‘kbe’;</p><p>mysql&gt;grantselect,insert,update,delete,create,dropon*.*tokbe_xx@’%'identified by ‘kbe’;</p><p>mysql&gt; FLUSH PRIVILEGES;</p><p>（3）切换到 kbe_xx</p><p>（4）copy 引擎资源至需要安装的文件夹</p><p>（5）解压文件，并命名为 kbengine</p><p>（6）编译 kbe</p><p>cd kbengine/kbe/src</p><p>chmod -R 755 .</p><p>make</p><p>（7）植入 tornado 模块（可忽略，一个轻量级的 Web 框架，可以查用法，应该有用）</p><p>将 tornado.zip 解压</p><p>并将以下文件</p><p>backports_abc.py</p><p>backports_abc-0.5.dist-info</p><p>tornado</p><p>tornado-4.5.1-py3.4.egg-info</p><p>copy 到 kbengine/kbe/res/scripts/common/Lib/site-packages</p><p>（8）修改启动脚本</p><p>将 assets 换成自己的代码和脚本</p><p>每次上传只需修改脚本即可</p><p>vistart_server.sh</p><p>注释调 machine 模块</p><p>修改其他模块 cid，比如最后一个数字改为 1</p><p>vistart_bots.sh</p><p>修改同上</p><p>（9）ip 端口配置</p><p>vikbengine/assets/res/server/ kbengine.xml</p><p>参考测试服文件配置 如果提示端口已经被占用，就换个端口。</p><p>kbengine/assets/res/server/ kbengine.xml</p><p>如下：</p><p><code>&lt;root&gt; &lt;!-- 服务端配置(&#123;assets&#125;/res/server/kbengine.xml) 如果你需要改变引擎设置,请在(&#123;assets&#125;/res/server/kbengine.xml)中覆盖kbe/res/server/kbengine_defs.xml的对应参数来修改, 这样的好处是不会破坏引擎的默认设置，在你更新引擎时也不会产生冲突，以及在多个逻辑项目时不会影响到其他的项目设置。 详细说明请参考：http://kbengine.org/cn/docs/configuration/kbengine.html --&gt; &lt;channelCommon&gt;</code></p></blockquote><div class="tags"><a href="/blog/tags/Unity/" rel="tag"><i class="ic i-tag"></i> Unity</a> <a href="/blog/tags/Python/" rel="tag"><i class="ic i-tag"></i> Python</a> <a href="/blog/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag"><i class="ic i-tag"></i> 云服务器</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-08-24 15:30:35" itemprop="dateModified" datetime="2021-08-24T15:30:35+08:00">2021-08-24</time> </span><span id="2021/08/24/云服务器搭建KBEngine服务端/" class="item leancloud_visitors" data-flag-title="云服务器搭建KBEngine服务端" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/blog/images/%E5%BE%AE%E4%BF%A1%E8%B5%9E%E8%B5%8F%E7%A0%81.webp" alt="Frz 微信支付"><p>微信支付</p></div><div><img data-src="/blog/images/%E6%94%AF%E4%BB%98%E5%AE%9D.webp" alt="Frz 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Frz <i class="ic i-at"><em>@</em></i>物競天擇</li><li class="link"><strong>本文链接：</strong> <a href="https://furanzhang.gitee.io/blog/2021/08/24/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BAKBEngine%E6%9C%8D%E5%8A%A1%E7%AB%AF/" title="云服务器搭建KBEngine服务端">https://furanzhang.gitee.io/blog/2021/08/24/云服务器搭建KBEngine服务端/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/blog/2021/08/03/%E8%B4%B4%E5%9B%BE2%E6%AC%A1%E5%B9%82%E6%89%B9%E9%87%8F%E4%BF%AE%E6%AD%A3%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%9F%BA%E4%BA%8EPython/" itemprop="url" rel="prev" data-background-image="&#x2F;blog&#x2F;Shoka_images&#x2F;6833939bly1giclwuom7cj20zk0m8dvn.jpg" title="贴图2次幂批量修正工具，基于Python"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>贴图2次幂批量修正工具，基于Python</h3></a></div><div class="item right"><a href="/blog/2023/05/04/hexo%E4%BF%AE%E5%A4%8D%E5%9B%BE%E5%BA%8A%EF%BC%8C%E4%BD%BF%E7%94%A8%E9%9D%99%E6%80%81%E5%9B%BE%E7%89%87/" itemprop="url" rel="next" data-background-image="&#x2F;blog&#x2F;Shoka_images&#x2F;6833939bly1gipeubcbajj20zk0m8h1h.jpg" title="hexo修复图床，使用静态图片"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>hexo修复图床，使用静态图片</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B"><span class="toc-number">1.</span> <span class="toc-text">开始</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85"><span class="toc-number">1.0.1.</span> <span class="toc-text">部分环境安装：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3"><span class="toc-number">1.0.2.</span> <span class="toc-text">错误解决:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E7%94%A8%E7%9A%84%E7%BD%91%E5%9D%80"><span class="toc-number">1.0.3.</span> <span class="toc-text">有用的网址：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#centos8%E4%B8%ADmysql%E6%9B%BF%E6%8D%A2%E4%B8%BAmariadb"><span class="toc-number">1.0.4.</span> <span class="toc-text">centos8 中 mysql 替换为 MariaDB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BDmysql-%E6%88%96-mariadb"><span class="toc-number">1.0.5.</span> <span class="toc-text">卸载 mysql 或 mariadb</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%85%B3%E9%97%ADkbe"><span class="toc-number">1.0.6.</span> <span class="toc-text">启动与关闭 Kbe</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E8%AE%BE%E7%BD%AE%E6%96%B9%E6%B3%95"><span class="toc-number">1.0.7.</span> <span class="toc-text">防火墙设置方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#kbe%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.0.8.</span> <span class="toc-text">kbe 服务器配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">1.0.9.</span> <span class="toc-text">其他</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E-%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.</span> <span class="toc-text">最后 （安装步骤）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E7%BB%88%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B"><span class="toc-number">2.0.1.</span> <span class="toc-text">最终安装流程：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%9C%89%E7%94%A8%E7%9A%84%E6%96%87%E6%A1%A3"><span class="toc-number">3.</span> <span class="toc-text">其他有用的文档</span></a></li></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Frz" data-src="/blog/images/tongZhi.webp"><p class="name" itemprop="name">Frz</p><div class="description" itemprop="description">自卑不是谦逊 | 傲慢不是自信</div></div><nav class="state"><div class="item posts"><a href="/blog/archives/"><span class="count">12</span> <span class="name">文章</span></a></div><div class="item tags"><a href="/blog/tags/"><span class="count">8</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0ZSWjUyMDEzMTQ=" title="https:&#x2F;&#x2F;github.com&#x2F;FRZ5201314"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTQ2NjY0NTMwNA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;466645304"><i class="ic i-cloud-music"></i></span> <span class="exturl item email" data-url="bWFpbHRvOjEwNTA0MTY4ODJAcXEuY29t" title="mailto:1050416882@qq.com"><i class="ic i-envelope"></i></span> <span class="exturl item bilibili" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vMTIxNzAzMTg2" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;121703186"><i class="ic i-youtube"></i></span></div><ul class="menu"><li class="item"><a href="/blog/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/blog/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/blog/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/blog/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/blog/2021/08/03/%E8%B4%B4%E5%9B%BE2%E6%AC%A1%E5%B9%82%E6%89%B9%E9%87%8F%E4%BF%AE%E6%AD%A3%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%9F%BA%E4%BA%8EPython/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/blog/2023/05/04/hexo%E4%BF%AE%E5%A4%8D%E5%9B%BE%E5%BA%8A%EF%BC%8C%E4%BD%BF%E7%94%A8%E9%9D%99%E6%80%81%E5%9B%BE%E7%89%87/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/01/16/ps%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E6%95%B4%E4%BD%93%E9%A2%9C%E8%89%B2/" title="ps修改图片整体颜色色调">ps修改图片整体颜色色调</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/01/15/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="hexo博客搭建中遇到的问题及解决方案">hexo博客搭建中遇到的问题及解决方案</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/08/03/PS2020%E6%94%AF%E6%8C%81webp%E6%A0%BC%E5%BC%8F/" title="PS2020支持webp格式">PS2020支持webp格式</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/08/24/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BAKBEngine%E6%9C%8D%E5%8A%A1%E7%AB%AF/" title="云服务器搭建KBEngine服务端">云服务器搭建KBEngine服务端</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2023/05/04/hexo%E4%BF%AE%E5%A4%8D%E5%9B%BE%E5%BA%8A%EF%BC%8C%E4%BD%BF%E7%94%A8%E9%9D%99%E6%80%81%E5%9B%BE%E7%89%87/" title="hexo修复图床，使用静态图片">hexo修复图床，使用静态图片</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/03/03/IOC%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC-DI%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/" title="IOC控制反转&amp;DI依赖注入">IOC控制反转&DI依赖注入</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/01/26/unityECS%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/" title="unityECS学习资料">unityECS学习资料</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/01/26/Camera-WorldToScreenPoint%E5%A1%AB%E5%9D%91/" title="Camera.WorldToScreenPoint填坑">Camera.WorldToScreenPoint填坑</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/08/03/%E8%B4%B4%E5%9B%BE2%E6%AC%A1%E5%B9%82%E6%89%B9%E9%87%8F%E4%BF%AE%E6%AD%A3%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%9F%BA%E4%BA%8EPython/" title="贴图2次幂批量修正工具，基于Python">贴图2次幂批量修正工具，基于Python</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/blog/2021/01/13/hello-world/" title="Hello World">Hello World</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2021 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Frz @ Frz</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">20k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">19 分钟</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/08/24/云服务器搭建KBEngine服务端/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/blog/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->